<!DOCTYPE HTML>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="author" content="v-samoylov">
        <link rel="stylesheet" href="index.css">
        <title>Галерея</title>
    </head>
    <body>
        <main>
            <div class="gallery">
                <input type="radio" name="gallery-radio" id="gallery-item1" checked>
                <input type="radio" name="gallery-radio" id="gallery-item2">
                <input type="radio" name="gallery-radio" id="gallery-item3">
                <input type="radio" name="gallery-radio" id="gallery-item4">
                <div class="gallery-nav">
                    <label for="gallery-item1" class="gallery-label" index="0">Маяк</label>
                    <label for="gallery-item2" class="gallery-label" index="1">Панда</label>
                    <label for="gallery-item3" class="gallery-label" index="2">Баскетбол</label>
                    <label for="gallery-item4" class="gallery-label" index="3">Зима</label>
                </div>
                <div class="gallery-content">
                    <img src="images/1.jpg" class="gallery-item" index="0">
                    <img src="images/2.jpg" class="gallery-item" index="1">
                    <img src="images/3.jpg" class="gallery-item" index="2">
                    <img src="images/4.jpg" class="gallery-item" index="3">
                </div>
            </div>
        </main>
        <script type="text/javascript">
            var gallery = document.querySelector('.gallery');
            Object.defineProperty(gallery, 'interval', {
                value: null,
                configurable: false,
                enumerable: false,
                writable: true
            });
            Object.defineProperty(gallery, 'choices', {
                value: document.getElementsByTagName('input'),
                configurable: false,
                enumerable: false,
                writable: false
            });
            Object.defineProperty(gallery, 'index', {
                value: 0,
                configurable: false,
                enumerable: false,
                writable: true
            });
            Object.defineProperty(gallery, 'start', {
                value: function (index) {
                    this.index = index;
                    this.interval = setInterval(function () {
                        if (this.index >= this.choices.length) {
                            this.index = 0;
                        }
                        var choice = this.choices[this.index++];
                        choice.checked = true;
                    }.bind(this), 5000)
                },
                configurable: false,
                enumerable: false,
                writable: false
            });
            Object.defineProperty(gallery, 'stop', {
                value: function () {
                    clearInterval(this.interval);
                },
                configurable: false,
                enumerable: false,
                writable: false
            });
            gallery.start(0);
            gallery.addEventListener('click', function (event) {
                if (event.target.tagName === 'LABEL') {
                    gallery.stop();
                    var newIndex = parseInt(event.target.getAttribute('index')) + 1;
                    gallery.start(newIndex);
                }
            }, false);
        </script>
    </body>
</html>
